<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.repository.EmpMapper">

	<select id="selectEmpList" resultType="com.example.domain.EmpVO">
    SELECT  e.EMP_NO      AS empNo,
            e.STATUS_NO   AS statusNo,      -- ✅ 숫자 코드
            e.EMP_NAME    AS empName,
            e.EMP_PHONE   AS empPhone,
            e.EMP_REGDATE AS empRegdate,
            e.BASE_SAL    AS baseSal,
            d.DEPT_NAME   AS deptName
    FROM EMP e
        LEFT JOIN DEPT d ON e.DEPT_NO = d.DEPT_NO
    ORDER BY e.EMP_NO ASC
</select>

	<!-- EmpMapper.xml -->
	<select id="getEmp" parameterType="String"
        resultType="com.example.domain.EmpVO">
    SELECT
        e.EMP_NO      AS empNo,
        e.STATUS_NO   AS statusNo,
        e.DEPT_NO     AS deptNo,
        e.GRADE_NO    AS gradeNo,
        e.EMP_PASS    AS empPass,
        e.KAKAO_ID    AS kakaoId,
        e.EMP_NAME    AS empName,
        e.EMP_PHONE   AS empPhone,
        e.EMP_ADDR    AS empAddr,
        e.EMP_EMAIL   AS empEmail,
        e.EMP_IMAGE   AS empImage,
        e.EMP_REG_NO  AS empRegNo,
        e.EMP_REGDATE AS empRegdate,
        e.BASE_SAL    AS baseSal,
        d.DEPT_NAME   AS deptName
    FROM EMP e
        LEFT JOIN DEPT d ON e.DEPT_NO = d.DEPT_NO
    WHERE e.EMP_NO = #{empNo}
</select>

<select id="loginCheck"
        parameterType="com.example.domain.MemberVO"
        resultType="com.example.domain.LoginVO">
    SELECT
        EMP_NO      AS empNo,
        EMP_NAME    AS empName,
        GRADE_NO    AS gradeNo,
        DEPT_NO     AS deptNo,
        EMP_EMAIL   AS empEmail,
        EMP_PHONE   AS empPhone
    FROM EMP
    WHERE EMP_NO = #{empNo}
      AND EMP_PASS = #{empPass}
</select>

</mapper>